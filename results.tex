\chapter{Evaluierung}

Die Qualität der Ergebnisse der in der Implementierung realisierten Modelle werden in diesem Kapitel durch ein Testexperiment überprüft. Weiterhin werden Ausführungszeiten für beispielsweise verschieden große $k$ betrachtet, um eine Einsicht in die Performance der Algorithmen zu gewinnen.
Im Kapitel Experimentaufbau wird zunächst das Experiement sowie verwendete Metriken und Ergebnistypen behandelt. Nachfolgend wird erläutert, wie die großen Menge an benötigten Testdaten wiederholbar und automatisiert aufgebaut wird. Dieser Abschnitt illustriert auch, wie eine Durchführung des Experiments von statten geht. Im letzten Teil werden dann konkrete Testgruppen aus den Caltech101 \cite{cal2004} Bilddaten erzeugt. Diese Menge an Bilddaten hat große Verbreitung im Bereich der Objekterkennung gefunden. Auf diese Weise ist ein Vergleich mit Arbeiten anderer prinzipiell möglich.

\section{Experimentaufbau}

Das Experiment soll zeigen, wie gut der jeweilige Algorithmus geeignet ist, um unüberwacht die Ähnlichkeit zwischen zwei Bildern zu beurteilen. Ein simples Experiment könnte wie folgt aussehen: Anhand eines Modells wird das Histogramm der Feature-Vektoren eines Bildes berechnet. Wenn nun bekannt ist, welche Klasse des Histogramms für welches Visual Word steht, sollten die entsprechenden Visual Words einer Bildklasse immer eine hohe Wahrscheinlichkeit aufweisen. Problematisch bei diesem Ansatz ist jedoch:

\begin{itemize}
	\item Das verfahren ist nicht unüberwacht: Es muss bekannt seine welche Histogramm-Klassen welchen Visual Words entsprechen. 
	\item Je nach gewählten $k$ ist das Experiment nicht aussagekräftig (kleines $k$, z.B. eins pro Klasse) oder sehr viel manueller Aufwand ist notwendig.
\end{itemize}

Geeigneter für diese Art des unüberwachten Lernens ist der Vergleich von zwei Bildern durch das Modell. Auch hierfür werden zunächst die Histogramme der Visual Words der jeweiligen Testbildern berechnet. Anhand einer Distanzmetrik kann dann die Ähnlichkeit der Histogramme bestimmt werden. Hier gibt es zwei Fälle zu unterscheiden:

\begin{itemize}
	\item \textbf{True Positives} Bei \textit{True Positives} handelt es sich um zwei Bildern die entweder in der gleichen oder einer verschiedenen Klasse liegen und die Vorhersage des Modells diesbezüglich korrekt ist.
	\item \textbf{False Positives} Auch hier liegen die Testbilder in der gleichen oder einer verschiedenen Klasse, die Vorhersage durch das Modell ist jedoch nicht korrekt.
\end{itemize}

Damit ein Modell zuverlässige Ergebnisse liefert, muss es größtenteils \textit{True Positives} erkennen, bzw. der Anteil der \textit{True Positives} sollte im Verhältnis zu den \textit{False Positives} bei weitem überwiegen. Für eine visuelle Darstellung dieses Verhältnisses eignet sich die \textit{Receiver Operating Characteristic (ROC)}: Diese stellt für verschiedene Parameter die \textit{True Positives} auf der Ordinate und die \textit{False-Positives} auf der Abzisse dar, sodass der optimale Parameter anhand der resultierenden Kurve abgelesen werden kann.

\section{Erzeugen und Ausführen von Testfällen}

Die ROC-Kurve soll für verschiedene $k$ ermittelt werden. Um jeweils ein aussagekräftiges Ergebnis zu erhalten, muss eine große Anzahl an Bildern durch das Modell gegenübergestellt werden. Da hier mehr als 2000 Bildpaare verwendet werden sollen, wäre ein manueller Testaufbau mühsam und fehleranfällig. Aus diesem Grund wird dieser Prozess hier durch ein Programm automatisiert: Es werden zufällige Bildpaare ausgewählt und deren absolute Pfade in eine vorbereitete Excel-Tabelle eingetragen, sowie die Information, ob die Bilder in der selben Klasse liegen (\glqq -\grqq für verschiedene, \glqq +\grqq für dieselbe Klasse). Zwei Bilder liegen dabei in der selben Klasse, wenn sie im selben Ordner im Dateisystem enthalten sind. Die zu verwendenden Ordner (also Klassen), die Anzahl der zufällig zu generierenden Tests und das Verhältnis von gleichen zu verschiedenen Klassen muss bei der Erzeugung angegeben werden. Für jede Zeile der Exceltabelle werden dann die Histogramme der \textit{Visual Words} der beiden Bilder ermittelt und anhand der euklidischen Distanz verglichen. Der Algorithmus entscheidet, dass die Bilder in der selben Klasse liegen, \todo{wenn die Ähnlichkeit mindestens 75\% beträgt}. Nach dem alle Bilderpaare bewertet wurden, werden die Ergebnisse wieder in die Excel-Tabelle geschrieben und die ROC-Kurve durch eine Formel berechnet und in Excel visualisiert. Durch diesen Aufbau kann des Experiment immer mit einer großen, zufällig ausgewählten Menge an Bildern wiederholt werden.

\section{Caltech 101}

Bei dem Caltech101 Daten handelt es sich um eine weit verbreitete Menge von Bilddaten, die vorwiegend zum Test von Algorithmen bezüglich der Objekterkennung in Bildern dient. Insgesamt liegen 101 Kategorien vor, die zwischen 40 und 800 Bildern enthalten. Auf der offiziellen Webseite \footnote{http://www.vision.caltech.edu/Image\textunderscore Datasets/Caltech101/} und im Artikel der Autoren wir empfohlen, die eigene Arbeit mit derer anderen vergleichbar zu halten, indem:

\begin{itemize}
	\item Eine feste Anzahl an Trainings- und Testbildern verwendet wird.
	\item Experimente mit einer zufälligen Auswahl an Bildern wiederholt werden.
	\item Ähnlich viele Bilder, wie in den Arbeiten anderer, verwendet werden (1, 3, 5, 10, 15, 20 oder 30 Trainingsbilder; 20 oder 30 Testbilder).
\end{itemize}

\begin{center}
    \begin{tabular}{l c c c c}
     		 & \multicolumn{2}{c}{Autoencoder} & \multicolumn{2}{c}{Bag of Words}  \\
    	     & Sequentiell & Parallel 	& Sequentiell  & Parallel  		\\ \hline
    	     															\\[-0.9em] 
    Gruppe 1 & 0.0		   & 0.0		& 0.0		   & 0.0			\\     
    Gruppe 2 & 0.0		   & 0.0		& 0.0		   & 0.0			\\ 
    Gruppe 3 & 0.0		   & 0.0	 	& 0.0		   & 0.0			\\ 
    Gruppe 4 & 0.0		   & 0.0		& 0.0		   & 0.0			\\
    \end{tabular}
	\captionof{table}{Laufzeiten der Caltech101 Testgruppen.}
\end{center}

\section{HsH Daten}

\begin{center}
    \begin{tabular}{l c c c c}
     		 & \multicolumn{2}{c}{Autoencoder} & \multicolumn{2}{c}{Bag of Words}  \\
    	     & Sequentiell & Parallel 	& Sequentiell  & Parallel  		\\ \hline
    	     															\\[-0.9em] 
    Gruppe 1 & 0.0		   & 0.0		& 0.0		   & 0.0			\\     
    Gruppe 2 & 0.0		   & 0.0		& 0.0		   & 0.0			\\ 
    Gruppe 3 & 0.0		   & 0.0	 	& 0.0		   & 0.0			\\ 
    Gruppe 4 & 0.0		   & 0.0		& 0.0		   & 0.0			\\
    \end{tabular}
	\captionof{table}{Laufzeiten der Testgruppen für die HsH-Daten.}
\end{center}